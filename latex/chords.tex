%    praiseTex - simple set of programs for creating praise music material, 
%    such as guitar chord sheets and presentation slides
%
%    Copyright (C) 2013 Jeffrey M Brown
%    brown.jeffreym@gmail.com
%
%    This program is free software: you can redistribute it and/or modify
%    it under the terms of the GNU General Public License as published by
%    the Free Software Foundation, either version 3 of the License, or
%    (at your option) any later version.
%
%    This program is distributed in the hope that it will be useful,
%    but WITHOUT ANY WARRANTY; without even the implied warranty of
%    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
%    GNU General Public License for more details.
%
%    You should have received a copy of the GNU General Public License
%    along with this program.  If not, see <http://www.gnu.org/licenses/>.
%
%    Thanks to CalTech Christian fellowship and UCSC Graduate Christian 
%    Fellowship for the original code, which was the inspiration for the
%    chords.tex file.
%
% chords.tex - generates a chord sheet for praise songs

\documentclass[11pt, twoside]{article}

% external packages
\usepackage[margin=2.5cm]{geometry} % set smaller margins
\usepackage{multicol}
\usepackage{color}

% text formatting variables
\parskip = 0mm
\parindent = 0mm
\widowpenalty = 10000
\clubpenalty = 10000

% font style
\newcommand{\headerfont}[1]{\emph{\small #1}}
\newcommand{\stanzafont}[1]{\textbf{#1}}

% formatting for header commands
\newcommand{\songtitle}[1]{\columnbreak\textbf{\huge #1}\\}
\newcommand{\by}[1]{#1\\}
\newcommand{\comment}[1]{\headerfont{#1}\\}
\newcommand{\scripture}[1]{\headerfont{#1}\\}
\newcommand{\capo}[1]{\headerfont{Capo: #1}\\}
\newcommand{\order}[1]{\headerfont{Order: #1}\\}

% formatting for stanza commands
\renewcommand{\verse}[2][]{
  \begin{minipage}{\columnwidth}
  \stanzafont{verse#1:}\\
  #2\\
  \end{minipage}
}

\newcommand{\prechorus}[2][] {
  \begin{minipage}{\columnwidth}
  %\vspace{-4mm}
  \begin{quote}
    \stanzafont{prechorus#1:}\\
    \hspace{1mm}#2
  \end{quote}
  %\vspace{-2mm}
  \end{minipage}
}

\newcommand{\chorus}[2][] {
\begin{minipage}{\columnwidth}
  %\vspace{-4mm}
  \begin{quote}
    \stanzafont{chorus#1:}\\
    \hspace{1mm}#2\\
  \end{quote}
  %\vspace{-2mm}
\end{minipage}
}

\newcommand{\bridge}[2][] {
  \begin{minipage}{\columnwidth}
  %\vspace{-3mm}
  \begin{quote}
    \stanzafont{bridge#1:}\\
    \hspace{1mm}#2\\
  \end{quote}
  %\vspace{-3mm}
  \end{minipage}
}

% intro or beginning of a song
\newcommand{\intro}[1] {
  \stanzafont{intro:}\\
  #1\\
}

% outro or ending of a song
\newcommand{\outro}[1] {
  \stanzafont{outro:}\\
  #1\\
}

\newcommand{\tagline}[2][] {
  %\vspace{-4mm}
  \begin{quote}
    \stanzafont{tag#1:}\\
    \hspace{1mm}#2
  \end{quote}
  %\vspace{-2mm}
}

\newcommand{\songbreak}[2][] {
  %\vspace{-4mm}
  \begin{quote}
    \stanzafont{break#1:}\\
    \hspace{1mm}#2
  \end{quote}
  %\vspace{-2mm}
}

\newcommand{\interlude}[2][] {
  \begin{minipage}{\columnwidth}
  %\vspace{-4mm}
  \begin{quote}
    \stanzafont{interlude#1:}\\
    \hspace{1mm}#2
  \end{quote}
  %\vspace{-2mm}
  \end{minipage}
}


% formatting for chords
% must change chord command to better handle placement
% ex: 
%      Em7
%   Some lyrics
% This should be typeset the same as the plain text

% possible alternatives:
% \makeatletter
% \newcommand{\stackover}{\genfrac{.}{.}\z@{}}
% \makeatother
% \[\stackover{a}{b}\]

% another:
% \stackrel{\mathrm{a}}{\mathrm{b}}

% original = bad placement of long chords
%{$\vspace{0.1mm}\stackrel{\makebox[0mm][l]{\hspace{1mm}\footnotesize{\textbf{#1\phantom{/}}}}}{^{^{^{}}}}$}

% vspace to make the chords closer to the bottom line than the line above
% hspace to remove gap between letters that this command causes, the kerning looks better most of the time with hspace{-0.3mm}
\newcommand{\chord}[1] {$\vspace{+0.2mm}\stackrel{\makebox[0mm][l]{\hspace{1mm}\footnotesize{\textbf{#1\phantom{/}}}}}{^{^{^{}}}}\hspace{-0.3mm}$}

% place a chord above and to the left of following letter
\newcommand{\chordleft}[1] {$\stackrel{\makebox[0mm][r]{\hspace{1mm}\footnotesize{\textbf{#1\phantom{/}}}}}{^{^{^{}}}}$}

\newcommand{\chordline}[1]{\small{\textbf{#1}}\\}
\newcommand{\songformat}[1]{#1}

% directions to other parts of the song
\newcommand{\tochorus}{\emph{(chorus)}}
\newcommand{\toprechorus}{\emph{(prechorus)}}
\renewcommand{\repeat}{\emph{(repeat)}}
\newcommand{\echo}{\emph{(echo)}}


% disable unused commands
\newcommand{\framebreak}{}
\newcommand{\slidesonly}[1]{}

% below is the document template for a chordsheet
\title{GCF Praise Book}
\author{Jeffrey M. Brown}
\date{\today}

\begin{document}
\pagenumbering{gobble}
\begin{multicols}{2}
  % input songs here
  \input{songs/YourLoveIsExtravagant.tex}
\end{multicols}
\end{document}
